{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { sharedRef, Logger, configureFactoryParams } from '@vue-storefront/core';\r\nimport { computed } from '@vue/composition-api';\r\nexport function useRelatedProductsFactory(factoryParams) {\r\n    return function useRelatedProducts() {\r\n        var _this = this;\r\n        var relatedProducts = sharedRef([], 'useRelatedProducts-methods');\r\n        var loading = sharedRef(false, 'useRelatedProducts-loading');\r\n        var error = sharedRef({\r\n            load: null\r\n        }, 'useRelatedProducts-error');\r\n        var _factoryParams = configureFactoryParams(factoryParams);\r\n        var load = function (searchParams) { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        Logger.debug('useRelatedProducts/load', searchParams);\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, 4, 5]);\r\n                        loading.value = true;\r\n                        _a = relatedProducts;\r\n                        return [4 /*yield*/, _factoryParams.load(searchParams)];\r\n                    case 2:\r\n                        _a.value = _b.sent();\r\n                        error.value.load = null;\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_1 = _b.sent();\r\n                        error.value.load = err_1;\r\n                        Logger.error('useRelatedProducts/load', err_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        loading.value = false;\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        return {\r\n            load: load,\r\n            loading: computed(function () { return loading.value; }),\r\n            relatedProducts: computed(function () { return relatedProducts.value; }),\r\n            error: computed(function () { return error.value; })\r\n        };\r\n    };\r\n}\r\n//# sourceMappingURL=useRelatedProducts.js.map","references":["/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue/composition-api/dist/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/src/types/index.ts"],"map":"{\"version\":3,\"file\":\"useRelatedProducts.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/factories/useRelatedProducts.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAIL,SAAS,EACT,MAAM,EACN,sBAAsB,EAEvB,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EAAO,QAAQ,EAAE,MAAM,sBAAsB,CAAC;AAsBrD,MAAM,UAAU,yBAAyB,CACvC,aAAgE;IAEhE,OAAO,SAAS,kBAAkB;QAA3B,iBAoCN;QAnCC,IAAM,eAAe,GAA0B,SAAS,CACtD,EAAE,EACF,4BAA4B,CAC7B,CAAC;QACF,IAAM,OAAO,GAAG,SAAS,CAAC,KAAK,EAAE,4BAA4B,CAAC,CAAC;QAC/D,IAAM,KAAK,GAAkC,SAAS,CACpD;YACE,IAAI,EAAE,IAAI;SACX,EACD,0BAA0B,CAC3B,CAAC;QAEF,IAAM,cAAc,GAAG,sBAAsB,CAAC,aAAa,CAAC,CAAC;QAE7D,IAAM,IAAI,GAAG,UAAO,YAAa;;;;;wBAC/B,MAAM,CAAC,KAAK,CAAC,yBAAyB,EAAE,YAAY,CAAC,CAAC;;;;wBAGpD,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;wBACrB,KAAA,eAAe,CAAA;wBAAS,qBAAM,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,EAAA;;wBAA/D,GAAgB,KAAK,GAAG,SAAuC,CAAC;wBAChE,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;;;;wBAExB,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,KAAG,CAAC;wBACvB,MAAM,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAG,CAAC,CAAC;;;wBAE7C,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;aAEzB,CAAC;QAEF,OAAO;YACL,IAAI,MAAA;YACJ,OAAO,EAAE,QAAQ,CAAC,cAAM,OAAA,OAAO,CAAC,KAAK,EAAb,CAAa,CAAC;YACtC,eAAe,EAAE,QAAQ,CAAC,cAAM,OAAA,eAAe,CAAC,KAAK,EAArB,CAAqB,CAAC;YACtD,KAAK,EAAE,QAAQ,CAAC,cAAM,OAAA,KAAK,CAAC,KAAK,EAAX,CAAW,CAAC;SACnC,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC\"}","dtsmap":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/factories/useRelatedProducts.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"useRelatedProducts.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../src/factories/useRelatedProducts.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACL,WAAW,EACX,OAAO,EACP,aAAa,EAIb,gBAAgB,EACjB,MAAM,sBAAsB,CAAC;AAE9B,OAAO,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAEjC,MAAM,WAAW,wBAAwB;IACvC,GAAG,EAAE,KAAK,CAAC;IACX,IAAI,EAAE,KAAK,CAAC;CACb;AAED,MAAM,WAAW,+BAA+B,CAAC,gBAAgB,CAAE,SAAQ,aAAa;IACtF,IAAI,EAAE,CACJ,OAAO,EAAE,OAAO,EAChB,MAAM,CAAC,EAAE;QAAE,WAAW,CAAC,EAAE,WAAW,CAAA;KAAE,KACnC,OAAO,CAAC,gBAAgB,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,kBAAkB,CAAC,gBAAgB;IAClD,eAAe,EAAE,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;IACpD,IAAI,CAAC,MAAM,CAAC,EAAE;QAAE,WAAW,CAAC,EAAE,WAAW,CAAA;KAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;IAC5D,OAAO,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC;IACnC,KAAK,EAAE,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;CACnD;AAED,wBAAgB,yBAAyB,CAAC,gBAAgB,GAAG,GAAG,EAC9D,aAAa,EAAE,+BAA+B,CAAC,gBAAgB,CAAC,SAE1B,mBAAmB,gBAAgB,CAAC,CAqC3E\"}"},"dts":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/factories/useRelatedProducts.d.ts","writeByteOrderMark":false,"text":"import { CustomQuery, Context, FactoryParams, ComputedProperty } from '@vue-storefront/core';\r\nimport { Error } from '../types';\r\nexport interface UseRelatedProductsErrors {\r\n    set: Error;\r\n    load: Error;\r\n}\r\nexport interface UseRelatedProductsFactoryParams<RELATED_PRODUCTS> extends FactoryParams {\r\n    load: (context: Context, params?: {\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<RELATED_PRODUCTS>;\r\n}\r\nexport interface UseRelatedProducts<RELATED_PRODUCTS> {\r\n    relatedProducts: ComputedProperty<RELATED_PRODUCTS>;\r\n    load(params?: {\r\n        customQuery?: CustomQuery;\r\n    }): Promise<void>;\r\n    loading: ComputedProperty<boolean>;\r\n    error: ComputedProperty<UseRelatedProductsErrors>;\r\n}\r\nexport declare function useRelatedProductsFactory<RELATED_PRODUCTS = any>(factoryParams: UseRelatedProductsFactoryParams<RELATED_PRODUCTS>): () => UseRelatedProducts<RELATED_PRODUCTS>;\r\n//# sourceMappingURL=useRelatedProducts.d.ts.map"}}
