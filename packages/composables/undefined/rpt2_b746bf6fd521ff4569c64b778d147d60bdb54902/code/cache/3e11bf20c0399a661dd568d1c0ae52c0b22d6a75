{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { useUserFactory } from '../../factories';\r\nvar params = {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var response;\r\n        var _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0: return [4 /*yield*/, context.$vendure.api.getActiveCustomer()];\r\n                case 1:\r\n                    response = _b.sent();\r\n                    return [2 /*return*/, (_a = response === null || response === void 0 ? void 0 : response.data) === null || _a === void 0 ? void 0 : _a.activeCustomer];\r\n            }\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    logOut: function (context) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, context.$vendure.api.logout()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    updateUser: function (context, _a) {\r\n        var currentUser = _a.currentUser, updatedUserData = _a.updatedUserData;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.updateCustomer({ firstName: updatedUserData.firstName, lastName: updatedUserData.lastName })];\r\n                    case 1:\r\n                        response = _c.sent();\r\n                        return [2 /*return*/, (_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.updateCustomer];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    register: function (context, _a) {\r\n        var email = _a.email, password = _a.password, firstName = _a.firstName, lastName = _a.lastName;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.registerCustomerAccount({ emailAddress: email, password: password, firstName: firstName, lastName: lastName })];\r\n                    case 1:\r\n                        response = _c.sent();\r\n                        return [2 /*return*/, (_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.registerCustomerAccount];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    logIn: function (context, _a) {\r\n        var username = _a.username, password = _a.password;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b, _c, _d;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.login({ username: username, password: password })];\r\n                    case 1:\r\n                        response = _e.sent();\r\n                        if (((_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.login).errorCode)\r\n                            throw (_c = response === null || response === void 0 ? void 0 : response.data) === null || _c === void 0 ? void 0 : _c.login;\r\n                        return [2 /*return*/, (_d = response === null || response === void 0 ? void 0 : response.data) === null || _d === void 0 ? void 0 : _d.login];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    changePassword: function (context, _a) {\r\n        var currentUser = _a.currentUser, currentPassword = _a.currentPassword, newPassword = _a.newPassword;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.updateCustomerPassword({ currentPassword: currentPassword, newPassword: newPassword })];\r\n                    case 1:\r\n                        response = _c.sent();\r\n                        return [2 /*return*/, (_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.updateCustomerPassword];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    updateEmail: function (context, _a) {\r\n        var currentUser = _a.currentUser, updatedUserData = _a.updatedUserData, newEmail = _a.newEmail, password = _a.password;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.updateCustomerEmailAddress({ newEmail: newEmail, password: password })];\r\n                    case 1:\r\n                        response = _c.sent();\r\n                        return [2 /*return*/, (_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.updateCustomerEmailAddress];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport var useUser = useUserFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/src/types/index.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/src/factories/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/composables/useUser/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dtsmap":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/composables/useUser/index.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"index.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/composables/useUser/index.ts\"],\"names\":[],\"mappings\":\"AA8DA,eAAO,MAAM,OAAO,yDAA4D,CAAC\"}"},"dts":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/composables/useUser/index.d.ts","writeByteOrderMark":false,"text":"export declare const useUser: () => import(\"../../factories\").CustomUseUser<any, any>;\r\n//# sourceMappingURL=index.d.ts.map"}}
