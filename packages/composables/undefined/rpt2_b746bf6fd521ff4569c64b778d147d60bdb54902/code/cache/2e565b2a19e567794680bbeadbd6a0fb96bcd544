{"code":"import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { computed } from '@vue/composition-api';\r\nimport { sharedRef, Logger, mask, configureFactoryParams } from '@vue-storefront/core';\r\nexport var useUserFactory = function (factoryParams) {\r\n    return function useUser() {\r\n        var _this = this;\r\n        var errorsFactory = function () { return ({\r\n            updateUser: null,\r\n            register: null,\r\n            login: null,\r\n            logout: null,\r\n            changePassword: null,\r\n            load: null,\r\n            updateEmail: null\r\n        }); };\r\n        var user = sharedRef(null, 'useUser-user');\r\n        var loading = sharedRef(false, 'useUser-loading');\r\n        var isAuthenticated = computed(function () { return Boolean(user.value); });\r\n        var error = sharedRef(errorsFactory(), 'useUser-error');\r\n        var _factoryParams = configureFactoryParams(factoryParams);\r\n        var setUser = function (newUser) {\r\n            user.value = newUser;\r\n            Logger.debug('useUserFactory.setUser', newUser);\r\n        };\r\n        var resetErrorValue = function () {\r\n            error.value = errorsFactory();\r\n        };\r\n        var updateUser = function (_a) {\r\n            var providedUser = _a.user, customQuery = _a.customQuery;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _b, err_1;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            Logger.debug('useUserFactory.updateUser', providedUser);\r\n                            resetErrorValue();\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, 4, 5]);\r\n                            loading.value = true;\r\n                            _b = user;\r\n                            return [4 /*yield*/, _factoryParams.updateUser({ currentUser: user.value, updatedUserData: providedUser, customQuery: customQuery })];\r\n                        case 2:\r\n                            _b.value = _c.sent();\r\n                            error.value.updateUser = null;\r\n                            return [3 /*break*/, 5];\r\n                        case 3:\r\n                            err_1 = _c.sent();\r\n                            error.value.updateUser = err_1;\r\n                            Logger.error('useUser/updateUser', err_1);\r\n                            return [3 /*break*/, 5];\r\n                        case 4:\r\n                            loading.value = false;\r\n                            return [7 /*endfinally*/];\r\n                        case 5: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        var register = function (_a) {\r\n            var providedUser = _a.user, customQuery = _a.customQuery;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var err_2;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            Logger.debug('useUserFactory.register', providedUser);\r\n                            resetErrorValue();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, 4, 5]);\r\n                            loading.value = true;\r\n                            // In Vendure the register will return boolean instead of customer so we cannot save it as user.\r\n                            return [4 /*yield*/, _factoryParams.register(__assign(__assign({}, providedUser), { customQuery: customQuery }))];\r\n                        case 2:\r\n                            // In Vendure the register will return boolean instead of customer so we cannot save it as user.\r\n                            _b.sent();\r\n                            error.value.register = null;\r\n                            return [3 /*break*/, 5];\r\n                        case 3:\r\n                            err_2 = _b.sent();\r\n                            error.value.register = err_2;\r\n                            Logger.error('useUser/register', err_2);\r\n                            return [3 /*break*/, 5];\r\n                        case 4:\r\n                            loading.value = false;\r\n                            return [7 /*endfinally*/];\r\n                        case 5: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        var login = function (_a) {\r\n            var providedUser = _a.user, customQuery = _a.customQuery;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _b, err_3;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            Logger.debug('useUserFactory.login', providedUser);\r\n                            resetErrorValue();\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            _c.trys.push([1, 3, 4, 5]);\r\n                            loading.value = true;\r\n                            _b = user;\r\n                            return [4 /*yield*/, _factoryParams.logIn(__assign(__assign({}, providedUser), { customQuery: customQuery }))];\r\n                        case 2:\r\n                            _b.value = _c.sent();\r\n                            error.value.login = null;\r\n                            return [3 /*break*/, 5];\r\n                        case 3:\r\n                            err_3 = _c.sent();\r\n                            error.value.login = err_3;\r\n                            Logger.error('useUser/login', err_3);\r\n                            return [3 /*break*/, 5];\r\n                        case 4:\r\n                            loading.value = false;\r\n                            return [7 /*endfinally*/];\r\n                        case 5: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        var logout = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var err_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Logger.debug('useUserFactory.logout');\r\n                        resetErrorValue();\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, _factoryParams.logOut({ currentUser: user.value })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        error.value.logout = null;\r\n                        user.value = null;\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_4 = _a.sent();\r\n                        error.value.logout = err_4;\r\n                        Logger.error('useUser/logout', err_4);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        var changePassword = function (params) { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, err_5;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        Logger.debug('useUserFactory.changePassword', { currentPassword: mask(params.current), newPassword: mask(params.new) });\r\n                        resetErrorValue();\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, 4, 5]);\r\n                        loading.value = true;\r\n                        _a = user;\r\n                        return [4 /*yield*/, _factoryParams.changePassword({\r\n                                currentUser: user.value,\r\n                                currentPassword: params.currentPassword,\r\n                                newPassword: params.newPassword,\r\n                                customQuery: params.customQuery\r\n                            })];\r\n                    case 2:\r\n                        _a.value = _b.sent();\r\n                        error.value.changePassword = null;\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_5 = _b.sent();\r\n                        error.value.changePassword = err_5;\r\n                        Logger.error('useUser/changePassword', err_5);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        loading.value = false;\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        var load = function (_a) {\r\n            var _b = _a === void 0 ? { customQuery: undefined } : _a, customQuery = _b.customQuery;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _c, err_6;\r\n                return __generator(this, function (_d) {\r\n                    switch (_d.label) {\r\n                        case 0:\r\n                            Logger.debug('useUserFactory.load');\r\n                            resetErrorValue();\r\n                            _d.label = 1;\r\n                        case 1:\r\n                            _d.trys.push([1, 3, 4, 5]);\r\n                            loading.value = true;\r\n                            _c = user;\r\n                            return [4 /*yield*/, _factoryParams.load({ customQuery: customQuery })];\r\n                        case 2:\r\n                            _c.value = _d.sent();\r\n                            error.value.load = null;\r\n                            return [3 /*break*/, 5];\r\n                        case 3:\r\n                            err_6 = _d.sent();\r\n                            error.value.load = err_6;\r\n                            Logger.error('useUser/load', err_6);\r\n                            return [3 /*break*/, 5];\r\n                        case 4:\r\n                            loading.value = false;\r\n                            return [7 /*endfinally*/];\r\n                        case 5: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        var updateEmail = function (_a) {\r\n            var providedUser = _a.user, customQuery = _a.customQuery, password = _a.password, newEmail = _a.newEmail;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var err_7;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            Logger.debug('useUserFactory.updateEmail', providedUser);\r\n                            resetErrorValue();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            _b.trys.push([1, 3, 4, 5]);\r\n                            loading.value = true;\r\n                            return [4 /*yield*/, _factoryParams.updateEmail({ currentUser: user.value, updatedUserData: providedUser, password: password, newEmail: newEmail, customQuery: customQuery })];\r\n                        case 2:\r\n                            _b.sent();\r\n                            error.value.updateEmail = null;\r\n                            return [3 /*break*/, 5];\r\n                        case 3:\r\n                            err_7 = _b.sent();\r\n                            error.value.updateEmail = err_7;\r\n                            Logger.error('useUser/updateEmail', err_7);\r\n                            return [3 /*break*/, 5];\r\n                        case 4:\r\n                            loading.value = false;\r\n                            return [7 /*endfinally*/];\r\n                        case 5: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return {\r\n            setUser: setUser,\r\n            user: computed(function () { return user.value; }),\r\n            updateUser: updateUser,\r\n            register: register,\r\n            login: login,\r\n            logout: logout,\r\n            isAuthenticated: isAuthenticated,\r\n            changePassword: changePassword,\r\n            updateEmail: updateEmail,\r\n            load: load,\r\n            loading: computed(function () { return loading.value; }),\r\n            error: computed(function () { return error.value; })\r\n        };\r\n    };\r\n};\r\n//# sourceMappingURL=useUserFactory.js.map","references":["/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue/composition-api/dist/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/core/lib/src/index.d.ts"],"map":"{\"version\":3,\"file\":\"useUserFactory.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/factories/useUserFactory.ts\"],\"names\":[],\"mappings\":\"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\"}","dtsmap":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/factories/useUserFactory.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"useUserFactory.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../src/factories/useUserFactory.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa,EAAE,WAAW,EAAmD,MAAM,sBAAsB,CAAC;AAEpJ,MAAM,WAAW,oBAAoB,CACnC,IAAI,EACJ,kBAAkB,EAClB,oBAAoB,CACpB,SAAQ,aAAa;IACrB,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,EAAE;QAAE,WAAW,EAAE,WAAW,CAAA;KAAE,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IACjF,MAAM,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;QAAC,WAAW,EAAE,IAAI,CAAA;KAAC,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IACzE,UAAU,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;QAAC,WAAW,EAAE,IAAI,CAAC;QAAC,eAAe,EAAE,kBAAkB,CAAC;QAAC,WAAW,CAAC,EAAE,WAAW,CAAA;KAAC,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7I,QAAQ,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,oBAAoB,GAAG;QAAC,WAAW,CAAC,EAAE,WAAW,CAAA;KAAC,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1G,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;QAAE,QAAQ,EAAE,MAAM,CAAC;QAAC,QAAQ,EAAE,MAAM,CAAC;QAAC,WAAW,CAAC,EAAE,WAAW,CAAA;KAAE,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IACtH,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;QAAC,WAAW,EAAE,IAAI,CAAC;QAAC,eAAe,EAAE,MAAM,CAAC;QAAC,WAAW,EAAE,MAAM,CAAC;QAAC,WAAW,CAAC,EAAE,WAAW,CAAA;KAAC,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1J,WAAW,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;QAAC,WAAW,EAAE,IAAI,CAAC;QAAC,eAAe,EAAE,kBAAkB,CAAC;QAAC,QAAQ,EAAE,MAAM,CAAC;QAAC,QAAQ,EAAE,MAAM,CAAC;QAAC,WAAW,CAAC,EAAE,WAAW,CAAA;KAAC,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC;CACnL;AAED,oBAAY,aAAa,CAAC,IAAI,EAAE,kBAAkB,IAAI,OAAO,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG;IAAE,WAAW,MAAA;CAAE,CAAA;AAEzG,oBAAY,mBAAmB,GAAG,aAAa,GAAG;IAAE,WAAW,EAAE,IAAI,CAAA;CAAE,CAAA;AAEvE,eAAO,MAAM,cAAc;WAGW,MAAM;cAAY,MAAM;wIAkK7D,CAAC\"}"},"dts":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/factories/useUserFactory.d.ts","writeByteOrderMark":false,"text":"import { UseUser, Context, FactoryParams, UseUserErrors, CustomQuery } from '@vue-storefront/core';\r\nexport interface UseUserFactoryParams<USER, UPDATE_USER_PARAMS, REGISTER_USER_PARAMS> extends FactoryParams {\r\n    load: (context: Context, params?: {\r\n        customQuery: CustomQuery;\r\n    }) => Promise<USER>;\r\n    logOut: (context: Context, params: {\r\n        currentUser: USER;\r\n    }) => Promise<void>;\r\n    updateUser: (context: Context, params: {\r\n        currentUser: USER;\r\n        updatedUserData: UPDATE_USER_PARAMS;\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<USER>;\r\n    register: (context: Context, params: REGISTER_USER_PARAMS & {\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<USER>;\r\n    logIn: (context: Context, params: {\r\n        username: string;\r\n        password: string;\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<USER>;\r\n    changePassword: (context: Context, params: {\r\n        currentUser: USER;\r\n        currentPassword: string;\r\n        newPassword: string;\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<USER>;\r\n    updateEmail: (context: Context, params: {\r\n        currentUser: USER;\r\n        updatedUserData: UPDATE_USER_PARAMS;\r\n        newEmail: string;\r\n        password: string;\r\n        customQuery?: CustomQuery;\r\n    }) => Promise<USER>;\r\n}\r\nexport declare type CustomUseUser<USER, UPDATE_USER_PARAMS> = UseUser<USER, UPDATE_USER_PARAMS> & {\r\n    updateEmail: any;\r\n};\r\nexport declare type CustomUseUserErrors = UseUserErrors & {\r\n    updateEmail: null;\r\n};\r\nexport declare const useUserFactory: <USER, UPDATE_USER_PARAMS, REGISTER_USER_PARAMS extends {\r\n    email: string;\r\n    password: string;\r\n}>(factoryParams: UseUserFactoryParams<USER, UPDATE_USER_PARAMS, REGISTER_USER_PARAMS>) => () => CustomUseUser<USER, UPDATE_USER_PARAMS>;\r\n//# sourceMappingURL=useUserFactory.d.ts.map"}}
