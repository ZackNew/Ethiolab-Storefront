{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { useShippingFactory } from '@vue-storefront/core';\r\nimport { useCart } from '../useCart';\r\nvar params = {\r\n    provide: function () {\r\n        return {\r\n            cart: useCart()\r\n        };\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context, _a) {\r\n        var customQuery = _a.customQuery;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var _b, _c, _d;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        if (!!((_d = (_c = (_b = context.cart) === null || _b === void 0 ? void 0 : _b.cart) === null || _c === void 0 ? void 0 : _c.value) === null || _d === void 0 ? void 0 : _d.shippingAddress)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, context.cart.load({ customQuery: customQuery })];\r\n                    case 1:\r\n                        _e.sent();\r\n                        _e.label = 2;\r\n                    case 2: return [2 /*return*/, context.cart.cart.value.shippingAddress];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    save: function (context, _a) {\r\n        var shippingDetails = _a.shippingDetails, customQuery = _a.customQuery;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var response;\r\n            var _b, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0: return [4 /*yield*/, context.$vendure.api.updateAddressDetails({ input: shippingDetails }, customQuery)];\r\n                    case 1:\r\n                        response = _d.sent();\r\n                        return [2 /*return*/, (_c = (_b = response === null || response === void 0 ? void 0 : response.data) === null || _b === void 0 ? void 0 : _b.setOrderShippingAddress) === null || _c === void 0 ? void 0 : _c.shippingAddress];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport var useShipping = useShippingFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/vendure-api/lib/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/src/types/index.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/src/composables/useCart/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/composables/useShipping/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAEL,kBAAkB,EAEnB,MAAM,sBAAsB,CAAC;AAK9B,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAErC,IAAM,MAAM,GAA+C;IACzD,OAAO;QACL,OAAO;YACL,IAAI,EAAE,OAAO,EAAE;SAChB,CAAC;IACJ,CAAC;IACD,6DAA6D;IAC7D,IAAI,EAAE,UAAO,OAAgB,EAAE,EAAe;YAAb,WAAW,iBAAA;;;;;;6BACtC,CAAC,CAAA,MAAA,MAAA,MAAA,OAAO,CAAC,IAAI,0CAAE,IAAI,0CAAE,KAAK,0CAAE,eAAe,CAAA,EAA3C,wBAA2C;wBAC7C,qBAAM,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,WAAW,aAAA,EAAE,CAAC,EAAA;;wBAAxC,SAAwC,CAAC;;4BAE3C,sBAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAC;;;;KAChD;IAED,6DAA6D;IAC7D,IAAI,EAAE,UAAO,OAAgB,EAAE,EAAgC;YAA9B,eAAe,qBAAA,EAAE,WAAW,iBAAA;;;;;;4BAC1C,qBAAM,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAE,KAAK,EAAE,eAAqC,EAAE,EAAE,WAAW,CAAC,EAAA;;wBAAzH,QAAQ,GAAG,SAA8G;wBAE/H,sBAAO,MAAC,MAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,IAAI,0CAAE,uBAAiC,0CAAE,eAAe,EAAC;;;;KAC5E;CACF,CAAC;AAEF,MAAM,CAAC,IAAM,WAAW,GAAG,kBAAkB,CAA0B,MAAM,CAAC,CAAC\"}","dtsmap":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/composables/useShipping/index.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"index.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/composables/useShipping/index.ts\"],\"names\":[],\"mappings\":\"AAKA,OAAO,KAAK,EAA6B,YAAY,EAAE,MAAM,6BAA6B,CAAC;AA4B3F,eAAO,MAAM,WAAW,0EAAsD,CAAC\"}"},"dts":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/composables/lib/composables/useShipping/index.d.ts","writeByteOrderMark":false,"text":"import type { OrderAddress } from '@vue-storefront/vendure-api';\r\nexport declare const useShipping: () => import(\"@vue-storefront/core\").UseShipping<OrderAddress, any, any>;\r\n//# sourceMappingURL=index.d.ts.map"}}
