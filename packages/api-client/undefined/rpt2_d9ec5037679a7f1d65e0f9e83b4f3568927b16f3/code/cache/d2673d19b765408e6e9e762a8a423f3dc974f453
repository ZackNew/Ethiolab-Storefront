{"code":"import { __awaiter, __generator, __makeTemplateObject } from \"tslib\";\r\nimport setOrderBillingAddressMutation from './setOrderBillingAddressMutation';\r\nimport setOrderShippingAddressMutation from './setOrderShippingAddressMutation';\r\nimport gql from 'graphql-tag';\r\nimport { ARRANGING_PAYMENT_STATE, BILLING_TYPE, NO_CACHE_FETCH_POLICY, isCustomerDataFilled } from '../../helpers';\r\nimport transitionOrderToState from '../transitionOrderToState';\r\nvar updateAddressDetails = function (context, params, customQuery) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var type, input, updateAddressDetailsVariables, isBilling, updateAddressDetailsQuery, updateAddressDetails, request;\r\n    var _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                type = params.type, input = params.input;\r\n                updateAddressDetailsVariables = { input: input };\r\n                isBilling = type === BILLING_TYPE;\r\n                updateAddressDetailsQuery = isBilling ? setOrderBillingAddressMutation : setOrderShippingAddressMutation;\r\n                updateAddressDetails = context.extendQuery(customQuery, { updateAddressDetails: { query: updateAddressDetailsQuery, variables: updateAddressDetailsVariables } }).updateAddressDetails;\r\n                return [4 /*yield*/, context.client.mutate({\r\n                        mutation: gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), updateAddressDetails.query),\r\n                        variables: updateAddressDetails.variables,\r\n                        fetchPolicy: NO_CACHE_FETCH_POLICY\r\n                    })];\r\n            case 1:\r\n                request = _b.sent();\r\n                if (!(isBilling && isCustomerDataFilled((_a = request === null || request === void 0 ? void 0 : request.data) === null || _a === void 0 ? void 0 : _a.setOrderBillingAddress))) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, transitionOrderToState(context, { state: ARRANGING_PAYMENT_STATE })];\r\n            case 2:\r\n                _b.sent();\r\n                _b.label = 3;\r\n            case 3: return [2 /*return*/, request];\r\n        }\r\n    });\r\n}); };\r\nexport default updateAddressDetails;\r\nvar templateObject_1;\r\n//# sourceMappingURL=index.js.map","references":["/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/src/api/updateAddressDetails/setOrderBillingAddressMutation.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/src/api/updateAddressDetails/setOrderShippingAddressMutation.ts","/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/@vue-storefront/core/lib/src/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/node_modules/graphql-tag/lib/index.d.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/src/types/index.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/src/helpers/index.ts","/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/src/api/transitionOrderToState/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/api/updateAddressDetails/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,8BAA8B,MAAM,kCAAkC,CAAC;AAC9E,OAAO,+BAA+B,MAAM,mCAAmC,CAAC;AAEhF,OAAO,GAAG,MAAM,aAAa,CAAC;AAE9B,OAAO,EAAE,uBAAuB,EAAE,YAAY,EAAE,qBAAqB,EAAE,oBAAoB,EAAE,MAAM,eAAe,CAAC;AACnH,OAAO,sBAAsB,MAAM,2BAA2B,CAAC;AAE/D,IAAM,oBAAoB,GAAG,UAAO,OAAgB,EAAE,MAAkC,EAAE,WAAyB;;;;;;gBACzG,IAAI,GAAY,MAAM,KAAlB,EAAE,KAAK,GAAK,MAAM,MAAX,CAAY;gBACzB,6BAA6B,GAAG,EAAE,KAAK,OAAA,EAAE,CAAC;gBAC1C,SAAS,GAAG,IAAI,KAAK,YAAY,CAAC;gBAElC,yBAAyB,GAAG,SAAS,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC,CAAC,+BAA+B,CAAC;gBAEvG,oBAAoB,GAAK,OAAO,CAAC,WAAW,CAClD,WAAW,EAAE,EAAE,oBAAoB,EAAE,EAAE,KAAK,EAAE,yBAAyB,EAAE,SAAS,EAAE,6BAA6B,EAAE,EAAE,CACtH,qBAF2B,CAE1B;gBAEc,qBAAM,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;wBAC1C,QAAQ,EAAE,GAAG,yEAAA,EAAG,EAA0B,EAAE,KAA5B,oBAAoB,CAAC,KAAK,CAAE;wBAC5C,SAAS,EAAE,oBAAoB,CAAC,SAAS;wBACzC,WAAW,EAAE,qBAAqB;qBACnC,CAAC,EAAA;;gBAJI,OAAO,GAAG,SAIkB;qBAE9B,CAAA,SAAS,IAAI,oBAAoB,CAAC,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI,0CAAE,sBAA+B,CAAC,CAAA,EAAjF,wBAAiF;gBACnF,qBAAM,sBAAsB,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,EAAA;;gBAAzE,SAAyE,CAAC;;oBAG5E,sBAAO,OAAO,EAAC;;;KAChB,CAAC;AAEF,eAAe,oBAAoB,CAAC\"}","dtsmap":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/lib/api/updateAddressDetails/index.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"index.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/api/updateAddressDetails/index.ts\"],\"names\":[],\"mappings\":\"AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,sBAAsB,CAAC;AAEnD,OAAO,EAAE,OAAO,EAAS,0BAA0B,EAAE,4BAA4B,EAAE,MAAM,aAAa,CAAC;AAIvG,QAAA,MAAM,oBAAoB,YAAmB,OAAO,UAAU,0BAA0B,gBAAgB,WAAW,KAAG,QAAQ,4BAA4B,CAsBzJ,CAAC;AAEF,eAAe,oBAAoB,CAAC\"}"},"dts":{"name":"/home/eb/projs/eecommerce.web/ecommerce.web/packages/api-client/lib/api/updateAddressDetails/index.d.ts","writeByteOrderMark":false,"text":"import { CustomQuery } from '@vue-storefront/core';\r\nimport { Context, UpdateAddressDetailsParams, UpdateAddressDetailsResponse } from '../../types';\r\ndeclare const updateAddressDetails: (context: Context, params: UpdateAddressDetailsParams, customQuery?: CustomQuery) => Promise<UpdateAddressDetailsResponse>;\r\nexport default updateAddressDetails;\r\n//# sourceMappingURL=index.d.ts.map"}}
